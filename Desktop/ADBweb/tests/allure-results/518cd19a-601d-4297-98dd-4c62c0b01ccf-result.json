{"name": "测试定时任务管理", "status": "broken", "statusDetails": {"message": "KeyError: 'id'", "trace": "self = <test_comprehensive.TestScheduledTasks object at 0x000001C03B855490>\napi_client = <test_comprehensive.api_client.<locals>.APIClient object at 0x000001C03B8ED810>\ndb_connection = <sqlite3.Connection object at 0x000001C03B8A75B0>\n\n    @allure.story(\"任务管理\")\n    @allure.title(\"测试定时任务管理\")\n    @allure.severity(allure.severity_level.NORMAL)\n    def test_scheduled_task_management(self, api_client, db_connection):\n        \"\"\"测试定时任务管理\"\"\"\n        with allure.step(\"获取定时任务列表\"):\n            response = api_client.get(\"/scheduled-tasks\")\n            assert response.status_code == 200\n            data = response.json()\n            assert data[\"code\"] == 200\n            TestConfig.safe_print(f\"✓ 获取定时任务列表成功\")\n    \n        # 创建定时任务（如果有脚本和设备）\n        cursor = db_connection.cursor()\n        cursor.execute(\"SELECT id FROM script WHERE is_active = 1 LIMIT 1\")\n        script = cursor.fetchone()\n        cursor.execute(\"SELECT id FROM device LIMIT 1\")\n        device = cursor.fetchone()\n    \n        if script and device:\n            task_id = None\n            try:\n                with allure.step(\"创建定时任务\"):\n                    task_data = {\n                        \"name\": f\"测试定时任务_{TEST_TIMESTAMP}\",\n                        \"script_id\": script[0],\n                        \"device_id\": device[0],\n                        \"frequency\": \"daily\",\n                        \"schedule_time\": \"10:00\",\n                        \"is_enabled\": True\n                    }\n    \n                    response = api_client.post(\"/scheduled-tasks\", json=task_data)\n                    assert response.status_code == 200\n                    data = response.json()\n                    assert data[\"code\"] == 200\n>                   task_id = data[\"data\"][\"id\"]\nE                   KeyError: 'id'\n\ntest_comprehensive.py:749: KeyError"}, "description": "测试定时任务管理", "steps": [{"name": "获取定时任务列表", "status": "passed", "start": 1772039218233, "stop": 1772039218246}, {"name": "创建定时任务", "status": "broken", "statusDetails": {"message": "KeyError: 'id'\n", "trace": "  File \"C:\\Users\\ddd\\Desktop\\ADBweb\\tests\\test_comprehensive.py\", line 749, in test_scheduled_task_management\n    task_id = data[\"data\"][\"id\"]\n              ~~~~~~~~~~~~^^^^^^\n"}, "start": 1772039218248, "stop": 1772039218273}], "attachments": [{"name": "失败详情", "source": "d5b60311-a2ef-492c-9ca7-b6c76ea70fd1-attachment.txt", "type": "text/plain"}, {"name": "执行时长", "source": "c5e3876a-4d22-4965-a0dd-24a3e236f478-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "3937615c-60a5-4c3b-addb-b4bbfed0c4b5-attachment.txt", "type": "text/plain"}], "start": 1772039218233, "stop": 1772039218274, "uuid": "472a9cb2-f540-463f-be98-f4cebb46ef30", "historyId": "a3e7579225869bc520bd4fcf1b9ede0a", "testCaseId": "a3e7579225869bc520bd4fcf1b9ede0a", "fullName": "test_comprehensive.TestScheduledTasks#test_scheduled_task_management", "labels": [{"name": "test_case", "value": "test_scheduled_task_management"}, {"name": "tag", "value": "scheduled"}, {"name": "severity", "value": "normal"}, {"name": "feature", "value": "定时任务"}, {"name": "story", "value": "任务管理"}, {"name": "suite", "value": "test_comprehensive"}, {"name": "subSuite", "value": "TestScheduledTasks"}, {"name": "host", "value": "LAPTOP-3V4QFELG"}, {"name": "thread", "value": "12180-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_comprehensive"}]}