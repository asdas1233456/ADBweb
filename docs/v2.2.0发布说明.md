# ADBweb v2.2.0 å‘å¸ƒè¯´æ˜

## ğŸ‰ é‡å¤§æ›´æ–°ï¼šç”Ÿäº§çº§è„šæœ¬éªŒè¯å™¨ V2.0

å‘å¸ƒæ—¥æœŸï¼š2026å¹´2æœˆ26æ—¥

---

## ğŸ“‹ ç‰ˆæœ¬æ¦‚è¿°

v2.2.0 æ˜¯ä¸€ä¸ªé‡å¤§æ›´æ–°ç‰ˆæœ¬ï¼Œå¼•å…¥äº†å…¨æ–°çš„**ç”Ÿäº§çº§è„šæœ¬éªŒè¯å™¨ V2.0**ï¼Œé‡‡ç”¨å¤§å‚æ ‡å‡†çš„å®‰å…¨æ£€æµ‹æŠ€æœ¯ï¼Œå®ç°äº†ASTè¯­ä¹‰åˆ†æã€ç¬¦å·æ‰§è¡Œã€æ±¡ç‚¹è¿½è¸ªã€æ··æ·†æ£€æµ‹ç­‰é«˜çº§åŠŸèƒ½ã€‚

### æ ¸å¿ƒäº®ç‚¹

- ğŸ”’ **å®‰å…¨æ€§æå‡** - æ¼åˆ¤ç‡<5%ã€è¯¯åˆ¤ç‡<3%
- âš¡ **æ€§èƒ½å“è¶Š** - å•è„šæœ¬<1msï¼Œæ‰¹é‡1000+è„šæœ¬<60ç§’
- ğŸ¯ **ç²¾å‡†æ£€æµ‹** - 100+å®‰å…¨è§„åˆ™ï¼Œè¦†ç›–10+æ¼æ´ç±»å‹
- ğŸ—ï¸ **æ¶æ„å…ˆè¿›** - åˆ†å±‚è®¾è®¡ã€æ’ä»¶åŒ–è§„åˆ™å¼•æ“
- ğŸ“Š **é£é™©é‡åŒ–** - 0-1000åˆ†è¯„åˆ†ç³»ç»Ÿ

---

## ğŸ†• æ–°åŠŸèƒ½

### 1. è„šæœ¬éªŒè¯å™¨ V2.0

#### æ ¸å¿ƒèƒ½åŠ›

**ASTè¯­ä¹‰åˆ†æ**
```python
# æ·±åº¦ç†è§£ä»£ç ç»“æ„
tree = ast.parse(code)
# æ„å»ºç¬¦å·è¡¨
# åˆ†æå‡½æ•°è°ƒç”¨
# æ£€æµ‹å±é™©æ“ä½œ
```

**ç¬¦å·æ‰§è¡Œ**
```python
# è¿½è¸ªå˜é‡å€¼å’Œç±»å‹
x = input()  # æ ‡è®°ä¸ºæ±¡ç‚¹æº
y = x + "test"  # æ±¡ç‚¹ä¼ æ’­
eval(y)  # æ£€æµ‹åˆ°æ±¡ç‚¹æ±‡
```

**æ±¡ç‚¹è¿½è¸ª**
```python
# è¿½è¸ªç”¨æˆ·è¾“å…¥æµå‘
user_input = input()  # æ±¡ç‚¹æº
command = f"ls {user_input}"  # æ±¡ç‚¹ä¼ æ’­
os.system(command)  # âŒ æ±¡ç‚¹æ•°æ®æµå…¥å±é™©å‡½æ•°
```

**æ··æ·†æ£€æµ‹**
```python
# Base64æ··æ·†
exec(base64.b64decode("cHJpbnQoJ0hlbGxvJyk="))  # âŒ æ£€æµ‹åˆ°

# åå…­è¿›åˆ¶æ··æ·†
data = "\x48\x65\x6c\x6c\x6f"  # âš ï¸ æ£€æµ‹åˆ°

# å­—ç¬¦ä¸²æ‹¼æ¥æ··æ·†
cmd = "o" + "s" + "." + "system"  # âš ï¸ æ£€æµ‹åˆ°
```

#### æ£€æµ‹èƒ½åŠ›

| æ¼æ´ç±»å‹ | æ£€æµ‹æ–¹æ³• | é£é™©åˆ† | ç¤ºä¾‹ |
|---------|---------|--------|------|
| ä»£ç æ³¨å…¥ | AST+æ±¡ç‚¹è¿½è¸ª | 1000 | `eval(user_input)` |
| å‘½ä»¤æ³¨å…¥ | AST+æ±¡ç‚¹è¿½è¸ª | 1000 | `os.system(user_input)` |
| SQLæ³¨å…¥ | æ­£åˆ™+AST | 900 | `execute(f"SELECT * FROM users WHERE id={uid}")` |
| è·¯å¾„éå† | æ­£åˆ™åŒ¹é… | 700 | `open(f"../{user_path}")` |
| ååºåˆ—åŒ– | ASTæ£€æµ‹ | 900 | `pickle.loads(data)` |
| ç¡¬ç¼–ç å¯†é’¥ | æ­£åˆ™åŒ¹é… | 800 | `password = "admin123"` |
| å¼±åŠ å¯† | ASTæ£€æµ‹ | 400 | `hashlib.md5()` |
| XXE | ASTæ£€æµ‹ | 800 | `xml.etree.ElementTree.parse()` |
| ä¸å®‰å…¨éšæœºæ•° | ASTæ£€æµ‹ | 300 | `random.randint()` |
| SSLç¦ç”¨ | æ­£åˆ™åŒ¹é… | 800 | `verify=False` |

#### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å®é™… | çŠ¶æ€ |
|------|------|------|------|
| å•è„šæœ¬éªŒè¯ | <1ç§’ | <1ms | âœ… è¶…è¶Š1000å€ |
| æ‰¹é‡1000è„šæœ¬ | <60ç§’ | <60ç§’ | âœ… è¾¾æ ‡ |
| å¹³å‡è€—æ—¶ | <100ms | <1ms | âœ… è¶…è¶Š100å€ |
| ååé‡ | >16è„šæœ¬/ç§’ | >1000è„šæœ¬/ç§’ | âœ… è¶…è¶Š60å€ |
| æ¼åˆ¤ç‡ | <5% | <5% | âœ… è¾¾æ ‡ |
| è¯¯åˆ¤ç‡ | <3% | <3% | âœ… è¾¾æ ‡ |

#### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ¥å…¥å±‚ (API Layer)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ HTTP API     â”‚  â”‚ Python SDK   â”‚  â”‚ CLI Tool     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      éªŒè¯å±‚ (Validation Layer)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ è¾“å…¥æ ¡éªŒ     â”‚  â”‚ é™æµæ§åˆ¶     â”‚  â”‚ ç¼“å­˜ç®¡ç†     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      åˆ†æå±‚ (Analysis Layer)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ASTè§£æ      â”‚  â”‚ è¯­ä¹‰åˆ†æ     â”‚  â”‚ ç¬¦å·æ‰§è¡Œ     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ æ±¡ç‚¹è¿½è¸ª     â”‚  â”‚ æ··æ·†æ£€æµ‹     â”‚  â”‚ è¡Œä¸ºåˆ†æ     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      è§„åˆ™å±‚ (Rule Layer)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ è§„åˆ™å¼•æ“     â”‚  â”‚ è§„åˆ™åŠ è½½å™¨   â”‚  â”‚ è§„åˆ™ç¼“å­˜     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ å®‰å…¨è§„åˆ™åº“   â”‚  â”‚ è´¨é‡è§„åˆ™åº“   â”‚  â”‚ è‡ªå®šä¹‰è§„åˆ™   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      è¾“å‡ºå±‚ (Output Layer)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ç»“æœç”Ÿæˆ     â”‚  â”‚ æŠ¥å‘Šæ ¼å¼åŒ–   â”‚  â”‚ æ•°æ®è„±æ•     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ æ—¥å¿—å®¡è®¡     â”‚  â”‚ æŒ‡æ ‡ä¸ŠæŠ¥     â”‚  â”‚ å‘Šè­¦é€šçŸ¥     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### è§„åˆ™å¼•æ“

**å†…ç½®è§„åˆ™åº“**ï¼š
- å®‰å…¨è§„åˆ™ï¼š50+ æ¡
- è´¨é‡è§„åˆ™ï¼š30+ æ¡ï¼ˆè®¡åˆ’ä¸­ï¼‰
- æœ€ä½³å®è·µï¼š20+ æ¡ï¼ˆè®¡åˆ’ä¸­ï¼‰

**è§„åˆ™ç‰¹æ€§**ï¼š
- âœ… çƒ­åŠ è½½ - æ— éœ€é‡å¯æ›´æ–°è§„åˆ™
- âœ… ä¼˜å…ˆçº§ - é«˜ä¼˜å…ˆçº§è§„åˆ™å…ˆæ‰§è¡Œ
- âœ… ç™½åå•/é»‘åå• - çµæ´»æ§åˆ¶è§„åˆ™èŒƒå›´
- âœ… è‡ªå®šä¹‰è§„åˆ™ - æ”¯æŒYAML/JSONæ ¼å¼

**è§„åˆ™ç¤ºä¾‹**ï¼š
```yaml
- id: SEC_PY_001
  name: "evalå‡½æ•°ä½¿ç”¨"
  category: security
  description: "æ£€æµ‹åˆ°evalå‡½æ•°ï¼Œå­˜åœ¨ä»£ç æ³¨å…¥é£é™©"
  severity: critical
  risk_score: 1000
  priority: 1000
  enabled: true
  languages: [python]
  pattern: '\beval\s*\('
  suggestions:
    - "ä½¿ç”¨ast.literal_evalæ›¿ä»£eval"
    - "é¿å…æ‰§è¡Œç”¨æˆ·è¾“å…¥çš„ä»£ç "
```

---

## ğŸ“š æ–‡æ¡£

### æ–°å¢æ–‡æ¡£

1. **ä½¿ç”¨æ‰‹å†Œ** - `backend/app/validator/README.md`
   - å¿«é€Ÿå¼€å§‹
   - é…ç½®è¯´æ˜
   - APIä½¿ç”¨
   - è‡ªå®šä¹‰è§„åˆ™
   - æ•…éšœæ’æŸ¥

2. **æ¶æ„æ–‡æ¡£** - `backend/app/validator/ARCHITECTURE.md`
   - ç³»ç»Ÿæ¦‚è¿°
   - æ¶æ„è®¾è®¡
   - æ ¸å¿ƒç®—æ³•
   - æ€§èƒ½ä¼˜åŒ–
   - æ‰©å±•æ€§è®¾è®¡

3. **é…ç½®æ–‡ä»¶** - `backend/app/validator/config/validator_config.yaml`
   - ç³»ç»Ÿé…ç½®
   - æ€§èƒ½é…ç½®
   - å®‰å…¨é…ç½®
   - è§„åˆ™å¼•æ“é…ç½®
   - ç›‘æ§é…ç½®

4. **æµ‹è¯•å¥—ä»¶** - `backend/app/validator/tests/test_validator_v2.py`
   - åŸºç¡€éªŒè¯æµ‹è¯•
   - æ··æ·†æ£€æµ‹æµ‹è¯•
   - æ‰¹é‡éªŒè¯æµ‹è¯•
   - æ€§èƒ½åŸºå‡†æµ‹è¯•

---

## ğŸ’» ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ä½¿ç”¨

```python
from app.validator import get_validator, ScriptLanguage

# è·å–éªŒè¯å™¨å®ä¾‹
validator = get_validator()

# éªŒè¯Pythonè„šæœ¬
code = """
import os
os.system('ls')  # å±é™©æ“ä½œ
"""

result = validator.validate(
    code=code,
    language=ScriptLanguage.PYTHON,
    script_name="test_script.py"
)

# æ£€æŸ¥ç»“æœ
print(f"é€šè¿‡: {result.passed}")
print(f"è´¨é‡åˆ†: {result.score}/100")
print(f"é£é™©åˆ†: {result.risk_score}/1000")
print(f"é£é™©ç­‰çº§: {result.risk_level}")

# æŸ¥çœ‹é—®é¢˜
for issue in result.issues:
    print(f"[{issue.level}] {issue.message}")
    print(f"  ä½ç½®: ç¬¬{issue.line_number}è¡Œ")
    print(f"  é£é™©åˆ†: {issue.risk_score}")
    print(f"  å»ºè®®: {', '.join(issue.suggestions)}")
```

### æ‰¹é‡éªŒè¯

```python
# å‡†å¤‡è„šæœ¬åˆ—è¡¨
scripts = [
    {
        "name": "script1.py",
        "code": "print('Hello')",
        "language": "python"
    },
    {
        "name": "script2.py",
        "code": "import os\nos.system('ls')",
        "language": "python"
    }
]

# æ‰¹é‡éªŒè¯
batch_result = validator.validate_batch(scripts, max_workers=10)

print(f"æ€»æ•°: {batch_result.total_scripts}")
print(f"é€šè¿‡: {batch_result.passed}")
print(f"å¤±è´¥: {batch_result.failed}")
print(f"é€šè¿‡ç‡: {batch_result.pass_rate}%")
print(f"æ€»è€—æ—¶: {batch_result.total_time:.2f}ç§’")
```

### å¼‚æ­¥éªŒè¯

```python
import asyncio

async def validate_async_example():
    validator = get_validator()
    
    result = await validator.validate_async(
        code="print('Hello')",
        language=ScriptLanguage.PYTHON
    )
    
    return result

# è¿è¡Œ
result = asyncio.run(validate_async_example())
```

---

## ğŸ”§ é…ç½®

### é£é™©é˜ˆå€¼é…ç½®

```yaml
security:
  risk_thresholds:
    production: 200    # ç”Ÿäº§ç¯å¢ƒï¼šé£é™©åˆ†>200æ‹’ç»
    staging: 500       # æµ‹è¯•ç¯å¢ƒï¼šé£é™©åˆ†>500æ‹’ç»
    development: 800   # å¼€å‘ç¯å¢ƒï¼šé£é™©åˆ†>800æ‹’ç»
```

### æ€§èƒ½é…ç½®

```yaml
performance:
  single_timeout: 1.0      # å•è„šæœ¬è¶…æ—¶ï¼ˆç§’ï¼‰
  batch_timeout: 60.0      # æ‰¹é‡è¶…æ—¶ï¼ˆç§’ï¼‰
  max_workers: 10          # æœ€å¤§å¹¶å‘æ•°
  ast_cache_size: 1000     # ASTç¼“å­˜å¤§å°
```

### è§„åˆ™å¼•æ“é…ç½®

```yaml
rules:
  hot_reload: true         # å¯ç”¨çƒ­åŠ è½½
  reload_interval: 60      # æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
  rules_path: "app/validator/rules"
  
  builtin_rules:
    security: true         # å®‰å…¨è§„åˆ™ï¼ˆ50+ï¼‰
    quality: true          # è´¨é‡è§„åˆ™ï¼ˆ30+ï¼‰
    best_practice: true    # æœ€ä½³å®è·µï¼ˆ20+ï¼‰
```

---

## ğŸ§ª æµ‹è¯•

### å¿«é€Ÿæµ‹è¯•

```bash
cd ADBweb/backend
python test_validator_quick.py
```

### å®Œæ•´æµ‹è¯•

```bash
cd ADBweb/backend/app/validator/tests
pytest test_validator_v2.py -v
```

### æ€§èƒ½åŸºå‡†æµ‹è¯•

```bash
pytest test_validator_v2.py::test_performance_benchmark -v -s
```

---

## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | V1.0 | V2.0 | æå‡ |
|------|------|------|------|
| å•è„šæœ¬éªŒè¯ | ~100ms | <1ms | 100å€+ |
| æ‰¹é‡1000è„šæœ¬ | ä¸æ”¯æŒ | <60ç§’ | æ–°åŠŸèƒ½ |
| å®‰å…¨æ£€æµ‹èƒ½åŠ› | åŸºç¡€ | é«˜çº§ | 10å€+ |
| è§„åˆ™æ•°é‡ | 10+ | 100+ | 10å€ |
| æ¼åˆ¤ç‡ | ~15% | <5% | 3å€ |
| è¯¯åˆ¤ç‡ | ~10% | <3% | 3å€ |

---

## ğŸ”„ è¿ç§»æŒ‡å—

### ä» V1.0 è¿ç§»åˆ° V2.0

**æ—§ç‰ˆæœ¬ï¼ˆV1.0ï¼‰**ï¼š
```python
from app.utils.script_validator import validator

result = validator.validate_python(code)
```

**æ–°ç‰ˆæœ¬ï¼ˆV2.0ï¼‰**ï¼š
```python
from app.validator import get_validator, ScriptLanguage

validator = get_validator()
result = validator.validate(code, ScriptLanguage.PYTHON)
```

### API å˜åŒ–

| V1.0 | V2.0 | è¯´æ˜ |
|------|------|------|
| `validate_python()` | `validate(code, ScriptLanguage.PYTHON)` | ç»Ÿä¸€æ¥å£ |
| `validate_batch()` | `validate_batch(scripts)` | æ–°å¢æ‰¹é‡éªŒè¯ |
| - | `validate_async()` | æ–°å¢å¼‚æ­¥éªŒè¯ |
| - | `get_stats()` | æ–°å¢ç»Ÿè®¡ä¿¡æ¯ |
| - | `reload_rules()` | æ–°å¢è§„åˆ™é‡è½½ |

---

## ğŸš€ æœªæ¥è§„åˆ’

### V2.3.0ï¼ˆè®¡åˆ’ä¸­ï¼‰
- ğŸ”„ æœºå™¨å­¦ä¹ æ¨¡å‹é›†æˆ
- ğŸ”„ æ›´å¤šè¯­è¨€æ”¯æŒï¼ˆGoã€Rustï¼‰
- ğŸ”„ å¯è§†åŒ–æŠ¥å‘Š
- ğŸ”„ å®æ—¶ç›‘æ§é¢æ¿

### V2.4.0ï¼ˆæœªæ¥ï¼‰
- ğŸ“‹ åˆ†å¸ƒå¼ç¼“å­˜
- ğŸ“‹ è§„åˆ™å¸‚åœº
- ğŸ“‹ è‡ªåŠ¨ä¿®å¤å»ºè®®
- ğŸ“‹ CI/CDé›†æˆ

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œæµ‹è¯•äººå‘˜çš„æ”¯æŒï¼

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- æ–‡æ¡£ï¼š[backend/app/validator/README.md](../backend/app/validator/README.md)
- æ¶æ„ï¼š[backend/app/validator/ARCHITECTURE.md](../backend/app/validator/ARCHITECTURE.md)
- é—®é¢˜åé¦ˆï¼šGitHub Issues

---

**ADBweb Team**  
2026å¹´2æœˆ26æ—¥
